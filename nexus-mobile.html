<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nexus Finance ‚Äì Panel m√≥vil</title>

  <link rel="stylesheet" href="styles.css?v=1" />
</head>
<body>
  <header class="app-header">
    <div class="app-header-left">
      <div class="app-logo-circle">
        <span class="app-logo-text">NF</span>
      </div>
      <div>
        <h1 class="app-title">Nexus Finance</h1>
        <p class="app-subtitle">Panel r√°pido m√≥vil</p>
      </div>
    </div>
  </header>

  <main>
    <!-- ========== HOME / DASHBOARD ========== -->
    <section id="screen-home" class="screen active">
      <div class="kpi-row">
        <div class="kpi-card">
          <div class="kpi-label">Ingresos hoy</div>
          <div class="kpi-value" id="kpi-income-today">$0.00</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Gastos hoy</div>
          <div class="kpi-value" id="kpi-expenses-today">$0.00</div>
        </div>
        <div class="kpi-card">
          <div class="kpi-label">Balance hoy</div>
          <div class="kpi-value" id="kpi-balance-today">$0.00</div>
        </div>
      </div>

      <div class="card">
        <button id="btnGoIncome" class="btn-primary block">+ Ingreso r√°pido</button>
        <button id="btnGoExpense" class="btn-secondary block">+ Gasto r√°pido</button>
        <button id="btnGoInvoice" class="btn-primary block">üßæ Nueva factura</button>
      </div>

      <div class="card">
        <h2 class="card-title">Facturas de hoy</h2>
        <div id="todayInvoices" class="today-list-body">
          No hay facturas registradas hoy.
        </div>
      </div>

      <div class="card">
        <h2 class="card-title">Sincronizaci√≥n en la nube</h2>
        <p id="syncStatusMobile" class="sync-status">Sin conexi√≥n</p>
        <div class="btn-row">
          <button id="btnSignInMobile" class="btn-secondary block">Iniciar sesi√≥n</button>
          <button id="btnSignOutMobile" class="btn-secondary block">Cerrar sesi√≥n</button>
        </div>
        <div class="btn-row">
          <button id="btnSyncPullMobile" class="btn-outline block">Traer datos de la nube</button>
          <button id="btnSyncPushMobile" class="btn-outline block">Enviar datos a la nube</button>
        </div>
        <label class="autosync-row">
          <input type="checkbox" id="chkAutosyncMobile" />
          <span>AutoSync</span>
        </label>
      </div>

      <div class="card">
        <button id="btnGoHistory" class="btn-outline block">üìä Historial r√°pido</button>
      </div>

      <div class="card card-footer">
        <p class="footer-text">
          ¬øNecesitas todas las funciones (Firebase, reportes, historial completo)?
        </p>
        <a href="https://finanzas-web.oasisservicespr.com" class="link-primary" target="_blank">
          Abrir versi√≥n completa de Nexus
        </a>
      </div>
    </section>

    <!-- ========== PANTALLA: INGRESO R√ÅPIDO ========== -->
    <section id="screen-income" class="screen">
      <div class="card">
        <div class="card-title-row">
          <button class="btn-back" data-back="home">‚Üê</button>
          <h2>Ingreso r√°pido</h2>
        </div>

        <form id="formIncome" class="form">
          <label class="field">
            <span>Fecha</span>
            <input type="date" id="incDateMobile" required />
          </label>

          <label class="field">
            <span>Cliente / Detalle</span>
            <input type="text" id="incClientMobile" placeholder="Nombre o descripci√≥n" />
          </label>

          <label class="field">
            <span>M√©todo de pago</span>
            <select id="incMethodMobile">
              <option value="">Seleccionar‚Ä¶</option>
              <option>EFECTIVO</option>
              <option>ATH M√≥vil</option>
              <option>TARJETA</option>
              <option>TRANSFERENCIA</option>
            </select>
          </label>

          <label class="field">
            <span>Monto</span>
            <input type="number" step="0.01" id="incAmountMobile" required />
          </label>

          <button type="submit" class="btn-primary block">Guardar ingreso</button>
        </form>
      </div>
    </section>

    <!-- ========== PANTALLA: GASTO R√ÅPIDO ========== -->
    <section id="screen-expense" class="screen">
      <div class="card">
        <div class="card-title-row">
          <button class="btn-back" data-back="home">‚Üê</button>
          <h2>Gasto r√°pido</h2>
        </div>

        <form id="formExpense" class="form">
          <label class="field">
            <span>Fecha</span>
            <input type="date" id="expDateMobile" required />
          </label>

          <label class="field">
            <span>Categor√≠a</span>
            <input type="text" id="expCategoryMobile" placeholder="Ej. Combustible, materiales‚Ä¶" />
          </label>

          <label class="field">
            <span>M√©todo de pago</span>
            <select id="expMethodMobile">
              <option value="">Seleccionar‚Ä¶</option>
              <option>EFECTIVO</option>
              <option>ATH M√≥vil</option>
              <option>TARJETA</option>
              <option>TRANSFERENCIA</option>
            </select>
          </label>

          <label class="field">
            <span>Monto</span>
            <input type="number" step="0.01" id="expAmountMobile" required />
          </label>

          <button type="submit" class="btn-primary block">Guardar gasto</button>
        </form>
      </div>
    </section>

    <!-- ========== PANTALLA: NUEVA FACTURA ========== -->
    <section id="screen-invoice" class="screen">
      <div class="card">
        <div class="card-title-row">
          <button class="btn-back" data-back="home">‚Üê</button>
          <h2>Nueva factura</h2>
        </div>

        <form id="formInvoice" class="form">
          <div class="form-row-two">
            <label class="field">
              <span>Fecha</span>
              <input type="date" id="invDateMobile" required />
            </label>

            <label class="field">
              <span>N√∫mero</span>
              <input type="text" id="invNumberMobile" placeholder="#12345" required />
            </label>
          </div>

          <label class="field">
            <span>Cliente</span>
            <input type="text" id="invClientMobile" placeholder="Nombre del cliente" />
          </label>

          <label class="field">
            <span>Tel√©fono (WhatsApp)</span>
            <input type="tel" id="invPhoneMobile" placeholder="7871234567" />
          </label>

          <label class="field">
            <span>M√©todo de pago</span>
            <select id="invMethodMobile">
              <option value="">Seleccionar‚Ä¶</option>
              <option>EFECTIVO</option>
              <option>ATH M√≥vil</option>
              <option>TARJETA</option>
              <option>TRANSFERENCIA</option>
            </select>
          </label>

          <div class="field">
            <div class="field-label-row">
              <span>√çtems</span>
              <button type="button" id="btnAddItem" class="btn-pill">+ A√±adir √≠tem</button>
            </div>
            <div id="invItemsContainer" class="items-container"></div>
            <button type="button" id="btnCalcInvoice" class="btn-outline block">
              Recalcular totales
            </button>
          </div>

          <div class="totals-box">
            <div class="totals-row">
              <span>Subtotal</span>
              <strong id="invSubtotalMobile">‚Äî</strong>
            </div>
            <div class="totals-row">
              <span>Impuestos</span>
              <strong id="invTaxMobile">‚Äî</strong>
            </div>
            <div class="totals-row totals-row-total">
              <span>Total</span>
              <strong id="invTotalMobile">‚Äî</strong>
            </div>
          </div>

          <label class="field">
            <span>Nota en la factura</span>
            <textarea id="invNoteMobile" rows="3" placeholder="Gracias por su confianza‚Ä¶"></textarea>
          </label>

          <div class="btn-row">
            <button id="btnSaveInvoice" class="btn-primary block" type="button">
              Guardar factura (solo registro)
            </button>
          </div>
          <div class="btn-row">
            <button id="btnSaveInvoiceWhatsApp" class="btn-secondary block" type="button">
              Guardar + Ver PDF + Enviar por WhatsApp
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- ========== PANTALLA: HISTORIAL R√ÅPIDO ========== -->
    <section id="screen-history" class="screen">
      <div class="card">
        <div class="card-title-row">
          <button class="btn-back" data-back="home">‚Üê</button>
          <h2>Historial r√°pido</h2>
        </div>

        <div class="history-tabs">
          <button class="htab active" data-type="inc">Ingresos</button>
          <button class="htab" data-type="exp">Gastos</button>
          <button class="htab" data-type="inv">Facturas</button>
        </div>

        <div class="history-filters">
          <button class="hfilter active" data-range="today">Hoy</button>
          <button class="hfilter" data-range="week">Semana</button>
          <button class="hfilter" data-range="month">Mes</button>
          <button class="hfilter" data-range="all">Todo</button>
        </div>

        <div id="historyList" class="history-list">No hay registros.</div>
      </div>
    </section>
  </main>

  <!-- js principal -->
  <script type="module" src="nexus-mobile-app.js?v=2"></script>
</body>
</html>
